<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Steven Universe - Season 1</title>
<style>
  body {
    background: #111;
    color: #eee;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; padding: 20px;
  }

  .video-wrapper {
    max-width: 960px;
    margin: 0 auto;
    border: 2px solid white;
    border-radius: 12px;
    background: black;
    position: relative;
  }

  video {
    width: 100%;
    display: block;
    border-radius: 10px;
    outline: none;
  }

  video:focus {
    outline: none;
  }

  .controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    background: #222;
    border-radius: 0 0 10px 10px;
  }

  button, select {
    background: #333;
    border: none;
    color: #eee;
    padding: 6px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
  }

  button:hover, select:hover {
    background: #555;
  }

  .time {
    color: #ccc;
    font-size: 0.9em;
    min-width: 80px;
    text-align: center;
  }

  input[type="range"] {
    flex-grow: 1;
    margin: 0 10px;
  }
</style>
</head>
<body>

<h1>Steven Universe - Season 1</h1>

<div class="video-wrapper">
  <video id="videoPlayer" tabindex="0" preload="metadata" >
    <source src="https://example.com/episode1.mp4" type="video/mp4" />
    <track id="captionsTrack" label="English" kind="subtitles" srclang="en" src="captions/episode1.vtt" default>
    Your browser does not support HTML5 video.
  </video>
  <div class="controls">
    <button id="playPause">‚ñ∂Ô∏è</button>
    <span class="time" id="currentTime">0:00</span>
    <input type="range" id="seekBar" min="0" max="100" value="0" step="0.1" />
    <span class="time" id="duration">0:00</span>
    <button id="muteToggle">üîà</button>
    <select id="qualitySelect">
      <option value="https://example.com/episode1_480p.mp4">480p</option>
      <option value="https://example.com/episode1_720p.mp4" selected>720p</option>
      <option value="https://example.com/episode1_1080p.mp4">1080p</option>
    </select>
    <button id="ccToggle">CC</button>
  </div>
</div>

<div id="episodeList" style="margin-top:20px; max-width:960px; margin-left:auto; margin-right:auto; display:grid; grid-template-columns:repeat(auto-fill,minmax(140px,1fr)); gap:10px;">
</div>

<script>
  const videoPlayer = document.getElementById('videoPlayer');
  const playPauseBtn = document.getElementById('playPause');
  const muteToggleBtn = document.getElementById('muteToggle');
  const seekBar = document.getElementById('seekBar');
  const currentTimeElem = document.getElementById('currentTime');
  const durationElem = document.getElementById('duration');
  const qualitySelect = document.getElementById('qualitySelect');
  const ccToggle = document.getElementById('ccToggle');
  const captionsTrack = document.getElementById('captionsTrack');
  const episodeList = document.getElementById('episodeList');

  const episodes = [
    {
      title: "Episode 1",
      sources: {
        "480p": "https://example.com/episode1_480p.mp4",
        "720p": "https://example.com/episode1_720p.mp4",
        "1080p": "https://example.com/episode1_1080p.mp4"
      },
      captions: "captions/episode1.vtt"
    },
    {
      title: "Episode 2",
      sources: {
        "480p": "https://example.com/episode2_480p.mp4",
        "720p": "https://example.com/episode2_720p.mp4",
        "1080p": "https://example.com/episode2_1080p.mp4"
      },
      captions: "captions/episode2.vtt"
    }
  ];

  let currentEpisodeIndex = 0;

  function loadEpisode(index) {
    currentEpisodeIndex = index;
    const episode = episodes[index];
    videoPlayer.src = episode.sources[qualitySelect.value];
    captionsTrack.src = episode.captions;
    captionsTrack.mode = 'hidden';
    ccToggle.textContent = 'CC Off';
    videoPlayer.load();
    videoPlayer.play();
  }

  episodes.forEach((episode, idx) => {
    const btn = document.createElement('button');
    btn.textContent = episode.title;
    btn.onclick = () => loadEpisode(idx);
    episodeList.appendChild(btn);
  });

  playPauseBtn.onclick = () => {
    if (videoPlayer.paused) {
      videoPlayer.play();
      playPauseBtn.textContent = '‚è∏Ô∏è';
    } else {
      videoPlayer.pause();
      playPauseBtn.textContent = '‚ñ∂Ô∏è';
    }
  };

  muteToggleBtn.onclick = () => {
    videoPlayer.muted = !videoPlayer.muted;
    muteToggleBtn.textContent = videoPlayer.muted ? 'üîá' : 'üîà';
  };

  videoPlayer.addEventListener('timeupdate', () => {
    const progress = (videoPlayer.currentTime / videoPlayer.duration) * 100;
    seekBar.value = progress;
    currentTimeElem.textContent = formatTime(videoPlayer.currentTime);
  });

  seekBar.oninput = () => {
    const time = (seekBar.value / 100) * videoPlayer.duration;
    videoPlayer.currentTime = time;
  };

  videoPlayer.onloadedmetadata = () => {
    durationElem.textContent = formatTime(videoPlayer.duration);
  };

  qualitySelect.onchange = () => {
    const currentTime = videoPlayer.currentTime;
    const paused = videoPlayer.paused;
    videoPlayer.src = episodes[currentEpisodeIndex].sources[qualitySelect.value];
    videoPlayer.load();
    videoPlayer.currentTime = currentTime;
    if (!paused) videoPlayer.play();
  };

  ccToggle.onclick = () => {
    if (captionsTrack.mode === 'showing') {
      captionsTrack.mode = 'hidden';
      ccToggle.textContent = 'CC Off';
    } else {
      captionsTrack.mode = 'showing';
      ccToggle.textContent = 'CC On';
    }
  };

  function formatTime(seconds) {
    const m = Math.floor(seconds / 60);
    const s = Math.floor(seconds % 60).toString().padStart(2, '0');
    return `${m}:${s}`;
  }

  loadEpisode(0);
</script>

</body>
</html>
